## (docker) 도커
> 도커 개요 및 아키텍처, 동작 순서, 이미지와 컨테이너

<br>

## 도커
: 커널의 컨테이너 가상화 기술을 쉽게 사용할 수 있다. 
### 컨테이너 플랫폼 구성 요소
1. 컨테이너 엔진 : 사용자의 요청을 받아 컨테이너를 생성, 실행, 관리하는 역할을 한다.
2. 컨테이너 런타임 : 직접 커널과 통신하며 실제로 격리된 환경을 만드는 역할을 하며, Docker 는 주로 runc 를 사용하여 관리한다.

### 도커 아키텍처 ( 클라이언트 - 서버 모델 )
![image](https://docs.docker.com/guides/images/docker-architecture.webp)
- 클라이언트 ( Docker CLI ) : 사용자의 명령을 도커 데몬에게 전달한다. 데몬의 API 명세서를 확인하여 요청하는 것이 불편하므로 Docker CLI 가 제공되어 도커 데몬의 API 와 쉽게 통신할 수 있다.
- 도커 데몬 ( Docker Daemon ) : 실제로 컨테이너를 관리한다. 컨테이너를 관리하기 위해 API 명세서 제공한다. [공식문서](https://docs.docker.com/engine/api/v1.24/)

### 동작 순서
1. 클라이언트(CLI) 에서 명령어 실행 ( ex> $ docker ps )
2. CLI 는 사용자 명령을 도커 데몬이 이해할 수 있는 API API 요청으로 변환
3. 위 API 요청이 도커 데몬으로 전달
4. 도커 데몬은 요청을 처리하고 결과를 클라이언트로 전송
5. 클라이언트는 받은 결과를 사용자에게 표시

### 명령어
- docker version : Client, Server 의 버전 및 상태 확인
- docker info : 플러그인, 시스템 상세 정보 확인
- docker --help : 메뉴얼 확인
- docker run (실행옵션) 이미지명 : 컨테이너 실행
- docker rm 컨테이너명/ID : 컨테이너 삭제
- docker image ls (이미지명) : 로컬 이미지 조회
- docker ps : 실행중인 컨테이너 리스트 조회
- docker rm -f : 실행중인 컨테이너 삭제

<br>

## 이미지와 컨테이너
> #### ※ 프로그램과 프로세스
>  1. 프로그램 ( ≒이미지 )
>  - 실행 가능한 소프트웨어
>  - 디스크 공간 차지
>  2. 프로세스 ( ≒컨테이너 )
>  - 실행 상태의 소프트웨어
>  - 프로그램 1 : N 프로세스
>  - 실행 시 CPU, MEM  등의 리소스 사용
### 이미지
- 실행 가능한 소프트웨어 + 실행에 필요한 환경
- 디스크 공간 차지
### 컨테이너 
- 실행 상태의 이미지
- 이미지 1 : N 컨테이너
- 컨테이너로 실행 시 CPU, MEM 등의 리소스 사용
- 컨테이너 간 리소스 격리
- 실행 시 이미지를 복사해 **격리된 디스크 공간 생성**
- 컨테이너 실행 시 프로세스도 함께 실행

<br>

## 참고
[인프런 - 개발자를 위한 쉬운 도커](https://inf.run/wHHR8) 
